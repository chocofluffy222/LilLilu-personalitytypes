<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>LilLiluè¨ºæ–­ï½œã‚ãªãŸã¯ã©ã®ãƒ•ãƒ¬ãƒ³ã‚ºï¼Ÿ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg-gradient-start: #ffeef8;
      --bg-gradient-end: #e7e8ff;
      --card-bg: #ffffff;
      --accent: #f9a8d4;
      --accent-strong: #ec4899;
      --text-main: #4b5563;
      --text-soft: #6b7280;
      --shadow-soft: 0 10px 25px rgba(148, 163, 184, 0.25);
      --radius-card: 18px;
      --radius-pill: 999px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: linear-gradient(145deg, var(--bg-gradient-start), var(--bg-gradient-end));
      display: flex;
      align-items: stretch;
      justify-content: center;
      color: var(--text-main);
    }

    .page-wrapper {
      width: 100%;
      max-width: 900px;
      padding: 24px 16px 40px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    header {
      text-align: center;
      padding-bottom: 4px;
    }

    header h1 {
      font-size: clamp(1.5rem, 5vw, 2.2rem);
      margin: 0;
      font-weight: 700;
      letter-spacing: 0.04em;
    }

    header p {
      margin: 8px 0 0;
      font-size: 0.9rem;
      color: var(--text-soft);
      line-height: 1.6;
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius-card);
      box-shadow: var(--shadow-soft);
      padding: 20px 18px 22px;
      max-width: 720px;
      margin: 0 auto;
    }

    .tagline {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 12px;
      border-radius: var(--radius-pill);
      background: rgba(244, 114, 182, 0.08);
      color: var(--accent-strong);
      font-size: 0.8rem;
      font-weight: 600;
    }

    .tagline span {
      font-size: 1rem;
    }

    .intro-title {
      margin-top: 12px;
      font-size: 1.2rem;
      font-weight: 600;
    }

    .intro-text {
      margin-top: 8px;
      font-size: 0.9rem;
      color: var(--text-soft);
      line-height: 1.8;
    }

    .center {
      text-align: center;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 12px 28px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.08s ease, box-shadow 0.08s ease, background 0.12s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      white-space: nowrap;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent), var(--accent-strong));
      color: #ffffff;
      box-shadow: 0 8px 18px rgba(236, 72, 153, 0.35);
    }

    .btn-ghost {
      background: transparent;
      border: 1px solid rgba(148, 163, 184, 0.5);
      color: var(--text-soft);
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 24px rgba(148, 163, 184, 0.25);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 5px 12px rgba(148, 163, 184, 0.25);
    }

    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    #quiz-section,
    #result-section {
      display: none;
    }

    .question-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
      font-size: 0.85rem;
      color: var(--text-soft);
    }

    .question-step {
      font-weight: 600;
    }

    .progress-bar {
      flex: 1;
      height: 6px;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.2);
      overflow: hidden;
    }

    .progress-inner {
      height: 100%;
      width: 0%;
      border-radius: 999px;
      background: linear-gradient(90deg, #f9a8d4, #93c5fd);
      transition: width 0.25s ease;
    }

    .question-title {
      margin: 4px 0 16px;
      font-size: 1.05rem;
      line-height: 1.6;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .option-btn {
      width: 100%;
      text-align: left;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: #f9fafb;
      font-size: 0.92rem;
      line-height: 1.5;
      cursor: pointer;
      display: flex;
      align-items: flex-start;
      gap: 10px;
      transition: background 0.12s ease, transform 0.06s ease, box-shadow 0.12s ease,
        border-color 0.12s ease;
    }

    .option-label {
      font-weight: 600;
      font-size: 0.85rem;
      margin-top: 1px;
      color: #9ca3af;
    }

    .option-text {
      flex: 1;
    }

    .option-btn:hover {
      background: #ffffff;
      transform: translateY(-1px);
      box-shadow: 0 6px 14px rgba(148, 163, 184, 0.3);
      border-color: rgba(236, 72, 153, 0.6);
    }

    .option-btn:active {
      transform: translateY(0);
      box-shadow: 0 2px 6px rgba(148, 163, 184, 0.4);
    }

    .result-character {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .result-subtitle {
      font-size: 0.9rem;
      color: var(--text-soft);
      margin-bottom: 14px;
    }

    .result-body {
      font-size: 0.93rem;
      line-height: 1.9;
      margin-bottom: 16px;
      color: var(--text-main);
    }

    .result-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 16px;
    }

    .result-tag {
      font-size: 0.8rem;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.08);
      color: var(--text-soft);
    }

    .share-text {
      font-size: 0.8rem;
      color: var(--text-soft);
      text-align: center;
      margin-top: 8px;
    }

    footer {
      text-align: center;
      font-size: 0.75rem;
      color: var(--text-soft);
      padding-top: 4px;
    }

    footer span {
      opacity: 0.8;
    }

    @media (min-width: 640px) {
      .card {
        padding: 24px 26px 26px;
      }
    }
  </style>
</head>
<body>
  <div class="page-wrapper">
    <header>
      <h1>LilLilu & Friends è¨ºæ–­</h1>
      <p>ã„ã¾ã®ã‚ãªãŸã®ã€Œã“ã“ã‚ã®é›°å›²æ°—ã€ã«ã„ã¡ã°ã‚“è¿‘ã„ã®ã¯ã€ã©ã®ãƒ•ãƒ¬ãƒ³ã‚ºï¼Ÿ<br />
        ã‹ã‚“ãŸã‚“ãªè³ªå•ã«ç­”ãˆã¦ã€ä»Šæ—¥ã®ã‚ãªãŸã«å¯„ã‚Šãã†ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’è¦‹ã¤ã‘ã¦ã¿ã¦ã­ã€‚</p>
    </header>

    <main>
      <!-- Intro -->
      <section id="intro-section" class="card">
        <div class="tagline">
          <span>ğŸª</span>
          <span>LilLiluâ€™s Little Check</span>
        </div>
        <div class="intro-title">3åˆ†ã§ã‚ã‹ã‚‹ã€ãã‚‡ã†ã®ã€Œã‚ãªãŸã‚¿ã‚¤ãƒ—ã€</div>
        <p class="intro-text">
          æ·±ã„æ€§æ ¼è¨ºæ–­ã¨ã„ã†ã‚ˆã‚Šã‚‚ã€<strong>ãã®æ—¥ã®æ°—åˆ†ã‚„ã“ã“ã‚ã®çŠ¶æ…‹ã‚’ã€ã‚„ã•ã—ãè¨€è‘‰ã«ã—ã¦ã‚ã’ã‚‹ãŸã‚ã®ãƒŸãƒ‹è¨ºæ–­</strong>ã§ã™ã€‚<br />
          çµæœã¯ã€Œå½“ãŸã£ã¦ã„ã‚‹ / å½“ãŸã£ã¦ã„ãªã„ã€ã§ã¯ãªãã€ã€Œã“ã‚“ãªè‡ªåˆ†ã‚‚ã„ã„ã‹ã‚‚ã€ã¨å—ã‘ã¨ã‚ã¦ã‚ã’ã‚‹ãŸã‚ã®ãƒ’ãƒ³ãƒˆã¨ã—ã¦ä½¿ã£ã¦ãã ã•ã„ã€‚
        </p>
        <div class="center" style="margin-top: 18px;">
          <button id="start-btn" class="btn btn-primary">
            è¨ºæ–­ã‚’ã¯ã˜ã‚ã‚‹
            <span>â–¶</span>
          </button>
        </div>
      </section>

      <!-- Quiz -->
      <section id="quiz-section" class="card">
        <div class="question-header">
          <div class="question-step" id="question-step">Q1 / 4</div>
          <div class="progress-bar">
            <div class="progress-inner" id="progress-inner"></div>
          </div>
        </div>
        <h2 class="question-title" id="question-text">è³ªå•ãƒ†ã‚­ã‚¹ãƒˆ</h2>
        <div class="options" id="options-container">
          <!-- JSã§åŸ‹ã‚ã‚‹ -->
        </div>
      </section>

      <!-- Result -->
      <section id="result-section" class="card">
        <div class="tagline">
          <span>âœ¨</span>
          <span>è¨ºæ–­çµæœ</span>
        </div>
        <h2 class="result-character" id="result-title"></h2>
        <div class="result-subtitle" id="result-subtitle"></div>
        <p class="result-body" id="result-body"></p>

        <div class="result-tags" id="result-tags"></div>

        <div class="center">
          <button id="retry-btn" class="btn btn-ghost">
            ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹
          </button>
        </div>
        <p class="share-text">
          â€» æ–‡ç« ã‚„ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åã¯ã€ãƒªãƒ«ãƒªãƒ«ã®ä¸–ç•Œè¦³ã«åˆã‚ã›ã¦è‡ªç”±ã«æ›¸ãæ›ãˆã¦OKã§ã™ã€‚
        </p>
      </section>
    </main>

    <footer>
      <span>Â© LilLilu & Friends / chocofluffy</span>
    </footer>
  </div>

  <script>
    // === è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯è¨­å®š =====================================

    // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å®šç¾©ï¼ˆçµæœãƒ†ã‚­ã‚¹ãƒˆã‚’ã“ã“ã§ç·¨é›†ã§ãã¾ã™ï¼‰
    const characters = {
      lilu: {
        name: "LilLiluï¼ˆãƒªãƒ«ãƒªãƒ«ï¼‰ã‚¿ã‚¤ãƒ—",
        subtitle: "ã‚„ã•ã—ã•ã§ã€ã¿ã‚“ãªã‚’ãµã‚ã£ã¨åŒ…ã¿ã“ã‚€äººã€‚",
        body: "ã¾ã‚ã‚Šã®äººãŒãƒ›ãƒƒã¨ã§ãã‚‹ã‚ˆã†ãªé›°å›²æ°—ã‚’ã‚‚ã£ã¦ã„ã‚‹ã¿ãŸã„ã€‚è‡ªåˆ†ã®æ°—æŒã¡ã‚ˆã‚Šã‚‚ã€ã¤ã„ç›¸æ‰‹ã®æ°—æŒã¡ã‚’å„ªå…ˆã—ãŒã¡ã ã‘ã©ã€ãã®ã‚„ã•ã—ã•ã¯ã€ã“ã“ã‚ã®ã‚ãŸãŸã‹ã•ãã®ã‚‚ã®ã€‚ã™ã“ã—ç–²ã‚ŒãŸæ—¥ã¯ã€èª°ã‹ã®ãŸã‚ã ã‘ã˜ã‚ƒãªãã¦ã€è‡ªåˆ†ã®ãŸã‚ã«ã‚‚ã€Œã‚„ã•ã—ãã—ã¦ã‚ã’ã‚‹æ™‚é–“ã€ã‚’ã¤ãã£ã¦ã‚ã’ã¦ã­ã€‚",
        tags: ["æ€ã„ã‚„ã‚Š", "å®‰å¿ƒæ„Ÿ", "èãå½¹"]
      },
      rosy: {
        name: "Rosyï¼ˆãƒ­ãƒ¼ã‚¸ãƒ¼ï¼‰ã‚¿ã‚¤ãƒ—",
        subtitle: "å°ã•ãªã€Œã‹ã‚ã„ã„ã€ã‚’è¦‹ã¤ã‘ã‚‹åäººã€‚",
        body: "å­£ç¯€ã®å¤‰åŒ–ã‚„ã€èº«è¿‘ãªâ€œã¨ãã‚ãâ€ã‚’è¦‹ã¤ã‘ã‚‹ã®ãŒä¸Šæ‰‹ãªã‚ãªãŸã€‚ã†ã‚Œã—ã‹ã£ãŸã“ã¨ã‚’èª°ã‹ã¨ã‚·ã‚§ã‚¢ã—ãŸããªã‚‹ã®ã‚‚ãƒ­ãƒ¼ã‚¸ãƒ¼ã£ã½ã„ã¨ã“ã‚ã€‚ã²ã¨ã‚Šã§æŠ±ãˆè¾¼ã¾ãšã«ã€ã†ã‚Œã—ã‹ã£ãŸã“ã¨ã‚‚ã€ã¡ã‚‡ã£ã´ã‚Šã•ã¿ã—ã‹ã£ãŸã“ã¨ã‚‚ã€ä¿¡é ¼ã§ãã‚‹äººã«ãŠã™ãåˆ†ã‘ã—ã¦ã¿ã‚‹ã¨ã€ã‚‚ã£ã¨å¿ƒãŒè»½ããªã‚Šãã†ã€‚",
        tags: ["ãƒã‚¸ãƒ†ã‚£ãƒ–", "æ„Ÿæ€§è±Šã‹", "ã‚·ã‚§ã‚¢å¥½ã"]
      },
      finn: {
        name: "Finnï¼ˆãƒ•ã‚£ãƒ³ï¼‰ã‚¿ã‚¤ãƒ—",
        subtitle: "ã€ã‚ˆã†ã“ãï¼ã€ã§å ´ã‚’ã‚ãŸãŸã‚ã‚‹ãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼ã€‚",
        body: "æœ¬å½“ã¯ã¡ã‚‡ã£ã´ã‚Šãƒ‰ã‚­ãƒ‰ã‚­ã—ã‚„ã™ã„ã®ã«ã€ã„ã–ã¨ã„ã†ã¨ãã¯ç¬‘é¡”ã§å ´ã‚’ã¤ãªã’ã‚‹ãƒ•ã‚£ãƒ³æ°—è³ªã®ã‚ãªãŸã€‚ã†ã¾ãè©±ãã†ã¨ã—ãªãã¦ã‚‚å¤§ä¸ˆå¤«ã€‚ã€Œãã„ã¦ã¿ãŸã„ã€ã¨æ€ã£ãŸã“ã¨ã‚’ç´ ç›´ã«ãã„ã¦ã¿ã‚‹ã ã‘ã§ã€ååˆ†ã«ã‚¹ãƒ†ã‚­ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãªã£ã¦ã„ã‚‹ã‚ˆã€‚",
        tags: ["ãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼", "å¥½å¥‡å¿ƒ", "èãä¸Šæ‰‹"]
      },
      bonbon: {
        name: "Bonbonï¼ˆãƒœãƒ³ãƒœãƒ³ï¼‰ã‚¿ã‚¤ãƒ—",
        subtitle: "ã‚³ãƒ„ã‚³ãƒ„ãŒã‚“ã°ã‚‹ã€ã‚ã£ãŸã‹ã„ãŒã‚“ã°ã‚Šå±‹ã•ã‚“ã€‚",
        body: "è‡ªåˆ†ãªã‚Šã®ãƒšãƒ¼ã‚¹ã§ã€ç›®ã®å‰ã®ã“ã¨ã«ä¸€ç”Ÿæ‡¸å‘½ã«ãªã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã€‚çµæœã‚ˆã‚Šã‚‚ãƒ—ãƒ­ã‚»ã‚¹ã‚’ã ã„ã˜ã«ã§ãã‚‹ã®ãŒãƒœãƒ³ãƒœãƒ³ã‚‰ã—ã•ã€‚ã¨ãã©ãç«‹ã¡æ­¢ã¾ã£ã¦ã€ã€ã“ã“ã¾ã§æ¥ãŸè‡ªåˆ†ã€ã‚ˆãã‚„ã£ã¦ã‚‹ï¼ã€ã¨ã€ã¡ã„ã•ãªã‚¬ãƒƒãƒ„ãƒãƒ¼ã‚ºã‚’ã—ã¦ã‚ã’ã¦ã­ã€‚",
        tags: ["åŠªåŠ›å®¶", "èª å®Ÿ", "ãƒã‚¤ãƒšãƒ¼ã‚¹"]
      },
      espie: {
        name: "Espieï¼ˆã‚¨ã‚¹ãƒ”ãƒ¼ï¼‰ã‚¿ã‚¤ãƒ—",
        subtitle: "ã ã‚Œã‹ã‚’åŒ…ã¿ã“ã‚€ã€ã‚ã£ãŸã‹ãƒ–ãƒ©ãƒ³ã‚±ãƒƒãƒˆã€‚",
        body: "å›°ã£ã¦ã„ã‚‹äººã‚„ã€ä¸å®‰ãã†ãªäººã‚’è¦‹ã¤ã‘ã‚‹ã¨ã€ãã£ã¨å¯„ã‚Šæ·»ã„ãŸããªã‚‹ã‚¨ã‚¹ãƒ”ãƒ¼æ°—è³ªã€‚æ”¯ãˆã‚‹å´ã«å›ã‚‹ã“ã¨ãŒå¤šã„ã‹ã‚‰ã“ãã€è‡ªåˆ†ã®ä¸å®‰ã‚„ç–²ã‚Œã‚’ã€ã¡ã‚ƒã‚“ã¨æ„Ÿã˜ã¦ã‚ã’ã‚‹æ™‚é–“ã€ã‚‚ã ã„ã˜ã«ã—ã¦ã­ã€‚ã‚ãªãŸè‡ªèº«ãŒå®‰å¿ƒã§ãã‚‹å ´æ‰€ã‚‚ã€ã¡ã‚ƒã‚“ã¨å®ˆã£ã¦ã„ã£ã¦ã„ã„ã‚“ã ã‚ˆã€‚",
        tags: ["åŒ…å®¹åŠ›", "å…±æ„ŸåŠ›", "ã•ã•ãˆå½¹"]
      },
      gigi: {
        name: "Gigiï¼ˆã‚¸ã‚¸ï¼‰ã‚¿ã‚¤ãƒ—",
        subtitle: "ä¸€æ­©ã²ã„ã¦å…¨ä½“ã‚’ãªãŒã‚ã‚‹ã€ã‚„ã•ã—ã„è¦‹å®ˆã‚Šå½¹ã€‚",
        body: "æ„Ÿæƒ…ã«æµã•ã‚Œéããšã€å°‘ã—é«˜ã„ã¨ã“ã‚ã‹ã‚‰å…¨ä½“ã‚’è¦‹å®ˆã‚‹ã‚¸ã‚¸ã®ã‚ˆã†ãªè¦–ç‚¹ã‚’æŒã£ã¦ã„ã‚‹ã¿ãŸã„ã€‚ã ã‹ã‚‰ã“ãã€ã€è‡ªåˆ†ã®æ°—æŒã¡ã€ã‚’å¾Œå›ã—ã«ã—ãŒã¡ãªä¸€é¢ã‚‚ã€‚ã¨ãã©ãã¯ã€å­ã©ã‚‚ã®ã‚ˆã†ã«ã‚ãŒã¾ã¾ãªæ°—æŒã¡ã‚’ãƒãƒ¼ãƒˆã«æ›¸ã„ã¦ã¿ã‚‹ãªã©ã€ã€Œæœ¬éŸ³ã®å£°ã€ã‚’æ‹¾ã£ã¦ã‚ã’ã‚‹æ™‚é–“ã‚’ã¤ãã£ã¦ã¿ã¦ã­ã€‚",
        tags: ["ä¿¯ç°", "å†·é™ã•", "è¦‹å®ˆã‚Š"]
      },
      levy: {
        name: "Levyï¼ˆãƒ¬ãƒ´ã‚£ï¼‰ã‚¿ã‚¤ãƒ—",
        subtitle: "é™ã‹ãªã¨ã“ã‚ã§å…‰ã‚‹ã€æ˜Ÿã®ã‚ˆã†ãªå­˜åœ¨ã€‚",
        body: "ã«ãã‚„ã‹ãªå ´ã‚ˆã‚Šã‚‚ã€å°‘äººæ•°ã‚„è½ã¡ç€ã„ãŸæ™‚é–“ã®ãªã‹ã§ã€è‡ªåˆ†ã‚‰ã—ã•ãŒå…‰ã‚‹ã‚¿ã‚¤ãƒ—ã€‚ã˜ã£ãã‚Šè€ƒãˆãŸã‚Šã€ã²ã¨ã‚Šã®ä¸–ç•Œã«ã²ãŸã‚‹æ™‚é–“ã‚‚å¤§åˆ‡ãªæ „é¤Šã€‚ã€ä»Šæ—¥ã¯ã©ã‚“ãªå°ã•ãªå…‰ãŒã‚ã£ãŸã‹ãªï¼Ÿã€ã¨ã€å¯ã‚‹å‰ã«1ã¤ã ã‘æ€ã„å‡ºã—ã¦ã¿ã‚‹ã¨ã€ãƒ¬ãƒ´ã‚£ã‚‰ã—ã„ç©ã‚„ã‹ãªæ™‚é–“ãŒè‚²ã£ã¦ã„ããã†ã€‚",
        tags: ["ãƒã‚¤ãƒ¯ãƒ¼ãƒ«ãƒ‰", "é™ã‹ãªæƒ…ç†±", "å¤œå‹ã‹ã‚‚ï¼Ÿ"]
      }
    };

    // è³ªå•ã®å®šç¾©ï¼ˆè³ªå•ã‚„é¸æŠè‚¢ã¯è‡ªç”±ã«æ›¸ãæ›ãˆã¦OKï¼‰
    const questions = [
      {
        text: "ä¼‘æ—¥ã®æœã€ã„ã¡ã°ã‚“ã€ã—ã£ãã‚Šãã‚‹ã€ã‚¹ã‚¿ãƒ¼ãƒˆã®ã—ã‹ãŸã¯ï¼Ÿ",
        options: [
          { label: "A", text: "ã‚†ã£ãã‚Šç´…èŒ¶ã‚„ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’ã„ã‚Œã¦ã€é™ã‹ã«æ°—æŒã¡ã‚’æ•´ãˆã‚‹ã€‚", type: "levy" },
          { label: "B", text: "å¤§åˆ‡ãªäººã¨ãŠã—ã‚ƒã¹ã‚Šã—ãªãŒã‚‰ã€ã®ã‚“ã³ã‚Šéã”ã™ã€‚", type: "lilu" },
          { label: "C", text: "æ€ã„ã¤ãã§ãŠå‡ºã‹ã‘ã—ãŸã‚Šã€èª°ã‹ã‚’èª˜ã£ãŸã‚Šã—ã¦ã¿ã‚‹ã€‚", type: "finn" },
          { label: "D", text: "ã‚„ã‚ŠãŸã‹ã£ãŸã“ã¨ãƒªã‚¹ãƒˆã‚’è¦‹ã¦ã€ã²ã¨ã¤ãšã¤ç‰‡ã¥ã‘ã¦ã„ãã€‚", type: "bonbon" }
        ]
      },
      {
        text: "å‹ã ã¡ãŒã¡ã‚‡ã£ã¨å…ƒæ°—ãªã•ãã†â€¦ã€‚ã‚ãªãŸãªã‚‰ã¾ãšä½•ã‚’ã™ã‚‹ï¼Ÿ",
        options: [
          { label: "A", text: "ã€å¤§ä¸ˆå¤«ï¼Ÿã€ã¨ãã£ã¨å£°ã‚’ã‹ã‘ã¦ã€æ¨ªã«ã„ã‚‹æ™‚é–“ã‚’ãµã‚„ã™ã€‚", type: "espie" },
          { label: "B", text: "ã•ã‚Šã’ãªãå¯æ„›ã„ã‚‚ã®ã‚„ã€ãŠã‚‚ã—ã‚å‹•ç”»ã‚’å…±æœ‰ã—ã¦ç¬‘ã£ã¦ã‚‚ã‚‰ã†ã€‚", type: "rosy" },
          { label: "C", text: "ã¾ãšã¯è©±ã‚’ãã„ã¦ã€çŠ¶æ³ã‚’æ•´ç†ã™ã‚‹ã®ã‚’æ‰‹ä¼ã†ã€‚", type: "gigi" },
          { label: "D", text: "ã€ã‚ˆã‹ã£ãŸã‚‰ä¸€ç·’ã«â—¯â—¯ã—ãªã„ï¼Ÿã€ã¨ã€æ°—åˆ†è»¢æ›ã«èª˜ã†ã€‚", type: "finn" }
        ]
      },
      {
        text: "è‡ªåˆ†ã®ãŒã‚“ã°ã‚Šæ–¹ã«ã¤ã„ã¦ã€ã„ã¡ã°ã‚“è¿‘ã„ã®ã¯ï¼Ÿ",
        options: [
          { label: "A", text: "ç›®ç«‹ãŸãªãã¦ã‚‚ã„ã„ã‹ã‚‰ã€ã‚³ãƒ„ã‚³ãƒ„ç©ã¿é‡ã­ã‚‹ã‚¿ã‚¤ãƒ—ã ã¨æ€ã†ã€‚", type: "bonbon" },
          { label: "B", text: "ã“ã“ãã¨ã„ã†ã¨ãã«é›†ä¸­ã—ã¦ã€ä¸€æ°—ã«ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’å‡ºã™ã€‚", type: "levy" },
          { label: "C", text: "èª°ã‹ã®ã€ã‚ã‚ŠãŒã¨ã†ã€ãŒã‚ã‚‹ã¨ã€ãã£ã¨ãŒã‚“ã°ã‚Œã‚‹ã€‚", type: "lilu" },
          { label: "D", text: "ãã®å ´ã®é›°å›²æ°—ã‚’è¦‹ãªãŒã‚‰ã€è¶³ã‚Šãªã„ã¨ã“ã‚ã‚’è‡ªç„¶ã¨åŸ‹ã‚ãŒã¡ã€‚", type: "gigi" }
        ]
      },
      {
        text: "ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼ã‚„é›†ã¾ã‚Šã®ã¨ãã€ã‚ãªãŸã®ãƒã‚¸ã‚·ãƒ§ãƒ³ã¯ï¼Ÿ",
        options: [
          { label: "A", text: "å ´ã®ç©ºæ°—ã‚’ã‚ã£ãŸã‹ãä¿ã¤ã€ã¡ã‚‡ã£ã¨ã—ãŸãƒ ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼ã€‚", type: "finn" },
          { label: "B", text: "å°‘äººæ•°ã§ã˜ã£ãã‚Šè©±ã—ã¦ã„ã‚‹ã¨ãã«ã€ã„ã¡ã°ã‚“å®‰å¿ƒã™ã‚‹ã€‚", type: "espie" },
          { label: "C", text: "å†™çœŸã‚’æ’®ã£ãŸã‚Šã€å¯æ„›ã„ã‚‚ã®ã‚’è¦‹ã¤ã‘ã¦ã¯å…±æœ‰ã—ã¦ã„ã‚‹ã€‚", type: "rosy" },
          { label: "D", text: "å…¨ä½“ã‚’è¦‹ãªãŒã‚‰ã€ãã£ã¨ãƒ•ã‚©ãƒ­ãƒ¼ã«å›ã£ã¦ã„ã‚‹ã“ã¨ãŒå¤šã„ã€‚", type: "gigi" }
        ]
      }
    ];

    // === ç”»é¢åˆ¶å¾¡ =============================================

    const introSection = document.getElementById("intro-section");
    const quizSection = document.getElementById("quiz-section");
    const resultSection = document.getElementById("result-section");

    const startBtn = document.getElementById("start-btn");
    const retryBtn = document.getElementById("retry-btn");

    const questionStepEl = document.getElementById("question-step");
    const progressInnerEl = document.getElementById("progress-inner");
    const questionTextEl = document.getElementById("question-text");
    const optionsContainerEl = document.getElementById("options-container");

    const resultTitleEl = document.getElementById("result-title");
    const resultSubtitleEl = document.getElementById("result-subtitle");
    const resultBodyEl = document.getElementById("result-body");
    const resultTagsEl = document.getElementById("result-tags");

    let currentQuestionIndex = 0;
    let scores = {};

    function resetQuiz() {
      currentQuestionIndex = 0;
      scores = {};
      Object.keys(characters).forEach((key) => {
        scores[key] = 0;
      });
    }

    function updateProgress() {
      const total = questions.length;
      const step = currentQuestionIndex + 1;
      questionStepEl.textContent = `Q${step} / ${total}`;
      const percent = (step / total) * 100;
      progressInnerEl.style.width = `${percent}%`;
    }

    function renderQuestion() {
      const q = questions[currentQuestionIndex];
      if (!q) return;

      updateProgress();
      questionTextEl.textContent = q.text;

      optionsContainerEl.innerHTML = "";

      q.options.forEach((opt) => {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.type = "button";
        btn.addEventListener("click", () => handleAnswer(opt.type));

        const labelSpan = document.createElement("div");
        labelSpan.className = "option-label";
        labelSpan.textContent = opt.label;

        const textSpan = document.createElement("div");
        textSpan.className = "option-text";
        textSpan.textContent = opt.text;

        btn.appendChild(labelSpan);
        btn.appendChild(textSpan);

        optionsContainerEl.appendChild(btn);
      });
    }

    function handleAnswer(type) {
      if (!scores[type]) {
        scores[type] = 0;
      }
      scores[type] += 1;

      currentQuestionIndex += 1;

      if (currentQuestionIndex < questions.length) {
        renderQuestion();
      } else {
        showResult();
      }
    }

    function showResult() {
      // ã‚‚ã£ã¨ã‚‚ã‚¹ã‚³ã‚¢ã®é«˜ã„ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’é¸ã¶
      const entries = Object.entries(scores);
      entries.sort((a, b) => b[1] - a[1]);
      const [bestKey] = entries[0];
      const char = characters[bestKey];

      resultTitleEl.textContent = char.name;
      resultSubtitleEl.textContent = char.subtitle;
      resultBodyEl.textContent = char.body;

      resultTagsEl.innerHTML = "";
      char.tags.forEach((tag) => {
        const tagEl = document.createElement("span");
        tagEl.className = "result-tag";
        tagEl.textContent = tag;
        resultTagsEl.appendChild(tagEl);
      });

      quizSection.style.display = "none";
      resultSection.style.display = "block";
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function startQuiz() {
      resetQuiz();
      introSection.style.display = "none";
      resultSection.style.display = "none";
      quizSection.style.display = "block";
      renderQuestion();
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function retryQuiz() {
      introSection.style.display = "none";
      resultSection.style.display = "none";
      quizSection.style.display = "block";
      resetQuiz();
      renderQuestion();
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    startBtn.addEventListener("click", startQuiz);
    retryBtn.addEventListener("click", retryQuiz);

    // åˆæœŸåŒ–ï¼ˆçµæœç”¨ã‚¹ã‚³ã‚¢ã ã‘å…ˆã«æº–å‚™ã—ã¦ãŠãï¼‰
    resetQuiz();
  </script>
</body>
</html>
